(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{66:function(e,n,a){"use strict";a.r(n),a.d(n,"frontMatter",(function(){return o})),a.d(n,"metadata",(function(){return l})),a.d(n,"toc",(function(){return s})),a.d(n,"default",(function(){return p}));var r=a(3),t=a(7),i=(a(0),a(88)),o={id:"cli",title:"CLI Guide",sidebar_label:"CLI Guide",slug:"/cli-guide"},l={unversionedId:"cli",id:"cli",isDocsHomePage:!1,title:"CLI Guide",description:"Create a Default Configuration",source:"@site/docs/cli.md",slug:"/cli-guide",permalink:"/graphql-link/docs/cli-guide",editUrl:"https://github.com/aerogear/graphql-link/docs/cli.md",version:"current",sidebar_label:"CLI Guide",sidebar:"main",previous:{title:"Installation",permalink:"/graphql-link/docs/installation"},next:{title:"Configuration Guide",permalink:"/graphql-link/docs/config"}},s=[{value:"Create a Default Configuration",id:"create-a-default-configuration",children:[]},{value:"Run the Server",id:"run-the-server",children:[]},{value:"Add Upstream",id:"add-upstream",children:[]},{value:"Mount Upstream Server Query Fields on to the Gateway Server",id:"mount-upstream-server-query-fields-on-to-the-gateway-server",children:[]},{value:"Link Entities of Different Upstream Servers",id:"link-entities-of-different-upstream-servers",children:[]},{value:"Usage",id:"usage",children:[]}],d={toc:s};function p(e){var n=e.components,a=Object(t.a)(e,["components"]);return Object(i.b)("wrapper",Object(r.a)({},d,a,{components:n,mdxType:"MDXLayout"}),Object(i.b)("h3",{id:"create-a-default-configuration"},"Create a Default Configuration"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-bash"},"$ graphql-link config init\n\nCreated:  graphql-link.yaml\n\nStart the gateway by running:\n\n    graphql-link serve\n")),Object(i.b)("h3",{id:"run-the-server"},"Run the Server"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-bash"},"$ graphql-link serve\n2021/02/16 18:46:48 GraphQL endpoint is running at http://127.0.0.1:8080/graphql\n2021/02/16 18:46:48 Gateway Admin UI and GraphQL IDE is running at http://127.0.0.1:8080\n")),Object(i.b)("h3",{id:"add-upstream"},"Add Upstream"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-bash"},"$ graphql-link  config add upstream <NAME_OF_YOUR_UPSTEAM_SERVER> <URL_TO_GRAPHQL_ENDPOINT> --prefix <PREFIX_NAME_TO_APPLY_TO_ALL_UPSTREAM_SCHEMA_TYPES>\n\nupstream added\n")),Object(i.b)("h3",{id:"mount-upstream-server-query-fields-on-to-the-gateway-server"},"Mount Upstream Server Query Fields on to the Gateway Server"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-bash"},"$ graphql-link config mount <NAME_OF_YOUR_UPSTEAM_SERVER> Query --field <FIELD_NAME>\n\nmount added\n")),Object(i.b)("h3",{id:"link-entities-of-different-upstream-servers"},"Link Entities of Different Upstream Servers"),Object(i.b)("blockquote",null,Object(i.b)("p",{parentName:"blockquote"},"Example of Adding a Pokemon Field to AnimeList Characters. This field will query the Pokemon service for the Pokemon where the name matches the anime's character's name")),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-bash"},"# Adding pokemon upstream\n$ graphql-link config add upstream pokemon <POKEMON_GRAPHQL_URL> --prefix Pokemon\nupstream added\n\n# Mounting pokemon query fields\n$ graphql-link config mount pokemon Query --field pokemonV1\nmount added\n\n# Adding anime upstream\n$ graphql-link config add upstream amime <ANIME_GRAPHQL_URL> --prefix Anime\nloaded previously stored schema: upstreams/pokemon.graphql\nupstream added\n\n# Mounting anime query fields\n$ graphql-link config mount anime Query --field animeV1\nloaded previously stored schema: upstreams/pokemon.graphql\nloaded previously stored schema: upstreams/anime.graphql\nmount added\n\n# Linking the pokemon and anime entities\n$ graphql-link config link pokemon AnimeCharacter pokemon --var '$n=name{full}' --query '{pokemon(name:$n)}'\n\nloaded previously stored schema: upstreams/pokemon.graphql\nloaded previously stored schema: upstreams/anime.graphql\nlink added\n")),Object(i.b)("h3",{id:"usage"},"Usage"),Object(i.b)("p",null,Object(i.b)("inlineCode",{parentName:"p"},"$ graphql-link --help")),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre"},'\nA GraphQL composition gateway\n\nUsage:\ngraphql-link [command]\n\nAvailable Commands:\ncompletion Generates bash completion scripts\nconfig Modifies the gateway configuration\nhelp Help about any command\nserve Runs the gateway service\nversion Print version information for this executable\n\nFlags:\n-h, --help help for graphql-link\n--verbose enables increased verbosity\n\nUse "graphql-link [command] --help" for more information about a command.\n\n')))}p.isMDXComponent=!0}}]);